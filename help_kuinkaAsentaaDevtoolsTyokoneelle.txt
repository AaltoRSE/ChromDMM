module load gcc/5.5.0
module load boost
module load gsl
module load r/3.5.1
module load rstudio

CFLAGS="-I/m/work/modules/automatic/xenial/spack/software/gsl/2.5/dj3vcw5/include" LDFLAGS="-L/m/work/modules/automatic/xenial/spack/software/gsl/2.5/dj3vcw5/lib -lgsl -lgslcblas -lm" rstudio


install.packages("Rcpp")
install.packages("RcppGSL")
install.packages("devtools")
library(Rcpp)
library(RcppGSL)
library(devtools)
setwd("/m/cs/scratch/csb/projects/enhancer_clustering/Rpackages/DMM-private-master-devel-works/")
#Before building the package, youâ€™ll need to run Rcpp::compileAttributes(). This function scans the C++ #files for Rcpp::export attributes and generates the code required to make the functions available in R
Rcpp::compileAttributes()
devtools::build(binary=TRUE)
devtools::install()
#Creates:
#"/m/cs/scratch/csb/projects/enhancer_clustering/Rpackages/DMM-private-master-devel-scratch/DirichletMultinomial_0.99.2_R_x86_64-pc-linux-gnu.tar.gz" #this can be installed, does not work?


devtools::install()

library("DirichletMultinomial")

now should work


#compile the source code and load the function into R
sourceCpp('src/dmn.cpp')
sourceCpp('src/bin_signal.cpp')
sourceCpp('src/kmeanspp_init.cpp')
